var Lays=function(){"use strict";function n(n,t){var e=void 0;return function(){e&&clearTimeout(e),e=setTimeout(n,t)}}var t=function(n,t){for(var e in t)n[e]=t[e]},e=function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0;return n>t?n<=e?n:e:t},i=function(n){return Array.apply(null,Array(n)).map(function(){return 0})},r=function(n){return n.reduce(function(n,t){return t>n?t:n},0)},u=function(n){var t=[];return n=n||1/0,t.fixedSize=n,t.push=function(){return[].push.apply(this,arguments),this.length<=this.fixedSize?[]:this.splice(0,this.length-this.fixedSize)},t.unshift=function(){return[].unshift.apply(this,arguments),this.length<=this.fixedSize?[]:this.splice(this.fixedSize)},t},s=function(){var n={};return{fire:function(t){var e=n[t];void 0!==e&&e.map(function(n){return n()})},on:function(t,e){void 0===n[t]&&(n[t]=[]),n[t].push(e)}}}();return function(a){var o=a.parent;if(o){var f={prependItems:!1,maxItems:void 0,breakpoints:{540:2,720:3,1024:4,1280:5}};t(f.breakpoints,a.breakpoints),t(f,a);var c=f.prependItems,p=f.maxItems,h=f.breakpoints,d=c?"unshift":"push",l=u(p),m=u(p),v=[],x=1;o.classList.add("_laysContainer");var y=function(n){n.classList.add("_laysItem"),[].push.apply(v,l[d](n)),m[d](n)},g=function(n,t,e){return t[e]+=n.offsetHeight,t.map(function(n,i){e=n<t[e]?i:e}),e},z=function(){var n=i(x),t=o.offsetWidth/x,e=0,u=0;l.map(function(e){var i=t*u,r=n[u];e.style.cssText+="position:absolute;width:"+t+"px;-ms-transform:translate("+i+"px,"+r+"px);transform:translate("+i+"px,"+r+"px);",u=g(e,n,u)}),e=r(n),o.style.cssText+="width:100%;height:"+e+"px;"},b=function(){if(m.length){var n=document.createDocumentFragment();v.map(function(n){return o.removeChild(n)}),m.map(function(t){return n.appendChild(t)}),m.length=0,v.length=0,o.appendChild(n)}},k=function(){x=1,Object.keys(h).map(function(n){o.offsetWidth>n&&(x=e(h[n],1,10))})},I=function(){b(),k(),z()};return window.addEventListener("resize",n(function(){s.fire("resize"),I()},200)),[].map.call(o.children,function(n){return y(n)}),{add:y,render:I,on:s.on,_items:l}}}}();
